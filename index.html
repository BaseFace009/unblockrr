<index>
  <head>
    <script type="text/javascript">
      let firstExternalWindow = window.open('about:blank')
      firstExternalWindow.document.write(`<head><title>404</title></head><body><style>body {margin: 0;}</style><iframe style="border: none;" src="https://anno.villainsrule.xyz/home" width="100%" height="100%"></body>`);
    </script>
    
    <link rel="icon" href="https://cdn.glitch.global/a300bc83-1349-40d5-8dc8-60619ca5027c/annotate.png">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Comfortaa&amp;display=swap">
    
    <script src="https://code.jquery.com/jquery-3.6.3.min.js"></script>
    <script type="text/javascript">
      $('head').append(`<link rel="stylesheet" href="https://${location.hostname}/home/style.css">`);
    </script>
    
    <title>Annotate</title>
  </head>

  <body>
    <header align="center" style="border-bottom: none;">
      <img src="https://cdn.glitch.global/a300bc83-1349-40d5-8dc8-60619ca5027c/annotate.png" width="300" height="300">
      <h1>Annotate</h1>
      <h2 class="version" onclick="openSecureWindow();">Launch Annotate <img src="https://cdn-icons-png.flaticon.com/512/3388/3388930.png" height="22"></h2>
    </header>
    
    <script type="text/javascript">
      let currentWindow = null;
      
      const openSecureWindow = () => {
        if (firstExternalWindow) {
          firstExternalWindow.window.close();
          firstExternalWindow = null;
        };
        
        if (currentWindow) {
          currentWindow.window.close();
          currentWindow = null;
        };
        
        currentWindow = window.open('about:blank')
        currentWindow.document.write(`<head><title>404</title></head><body><style>body {margin: 0;}</style><iframe style="border: none;" src="https://anno.villainsrule.xyz/home" width="100%" height="100%"></body>`);
      };
      
      window.onbeforeunload = function (e) {
        let e = e || window.event;
        try { firstExternalWindow.window.close(); } catch {};
        try { currentWindow.window.close(); } catch {};
        return 'Closed all external windows.';
      };
    </script>
  </body>
</index>
